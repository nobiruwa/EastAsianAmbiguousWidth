(defvar full-width-table
'((#x1100 . #x115F)
(#x2329 . #x232A)
(#x2E80 . #x3029)
(#x3030 . #x303E)
(#x3041 . #x3096)
(#x309B . #xA4C6)
(#xAC00 . #xD7A3)
(#xF900 . #xFAD9)
(#xFE10 . #xFE19)
(#xFE30 . #xFE6B)
(#xFF01 . #xFF60)
(#xFFE0 . #xFFE6)
(#x00020000 . #x0002A6D6)
(#x0002F800 . #x0002FA1D)
(#x1100 . #x115F)
(#x2329 . #x232A)
(#x2E80 . #x3029)
(#x3030 . #x303E)
(#x3041 . #x3096)
(#x309B . #xA4C6)
(#xAC00 . #xD7A3)
(#xF900 . #xFAD9)
(#xFE10 . #xFE19)
(#xFE30 . #xFE6B)
(#xFF01 . #xFF60)
(#xFFE0 . #xFFE6)
(#x00020000 . #x0002A6D6)
(#x0002F800 . #x0002FA1D)
#x2010
#x2013
#x2014
#x2015
#x2016
#x2018
#x2019
#x201C
#x201D
#x2020
#x2021
#x2022
#x2024
#x2025
#x2026
#x2027
#x2030
#x2032
#x2033
#x2035
#x203B
#x203E
#x2074
#x207F
#x2081
#x2082
#x2083
#x2084
#x20AC
#x2103
#x2105
#x2109
#x2113
#x2116
#x2121
#x2122
#x2126
#x212B
#x2153
#x2154
#x215B
#x215C
#x215D
#x215E
#x2160
#x2161
#x2162
#x2163
#x2164
#x2165
#x2166
#x2167
#x2168
#x2169
#x216A
#x216B
#x2170
#x2171
#x2172
#x2173
#x2174
#x2175
#x2176
#x2177
#x2178
#x2179
#x2189
#x2190
#x2191
#x2192
#x2193
#x2194
#x2195
#x2196
#x2197
#x2198
#x2199
#x21B8
#x21B9
#x21D2
#x21D4
#x21E7
#x2200
#x2202
#x2203
#x2207
#x2208
#x220B
#x220F
#x2211
#x2215
#x221A
#x221D
#x221E
#x221F
#x2220
#x2223
#x2225
#x2227
#x2228
#x2229
#x222A
#x222B
#x222C
#x222E
#x2234
#x2235
#x2236
#x2237
#x223C
#x223D
#x2248
#x224C
#x2252
#x2260
#x2261
#x2264
#x2265
#x2266
#x2267
#x226A
#x226B
#x226E
#x226F
#x2282
#x2283
#x2286
#x2287
#x2295
#x2299
#x22A5
#x22BF
#x2312
#x2460
#x2461
#x2462
#x2463
#x2464
#x2465
#x2466
#x2467
#x2468
#x2469
#x246A
#x246B
#x246C
#x246D
#x246E
#x246F
#x2470
#x2471
#x2472
#x2473
#x2474
#x2475
#x2476
#x2477
#x2478
#x2479
#x247A
#x247B
#x247C
#x247D
#x247E
#x247F
#x2480
#x2481
#x2482
#x2487
#x248A
#x248B
#x248C
#x248D
#x248E
#x248F
#x2490
#x2491
#x2492
#x2493
#x2494
#x2495
#x2496
#x2497
#x2498
#x2499
#x249A
#x249B
#x249C
#x249D
#x249E
#x249F
#x24A0
#x24A1
#x24A2
#x24A3
#x24A4
#x24A5
#x24A6
#x24A7
#x24A8
#x24A9
#x24AA
#x24AB
#x24AC
#x24AD
#x24AE
#x24AF
#x24B0
#x24B1
#x24B2
#x24B3
#x24B4
#x24B5
#x24B6
#x24B7
#x24B8
#x24B9
#x24BA
#x24BB
#x24BC
#x24BD
#x24BE
#x24BF
#x24C0
#x24C1
#x24C2
#x24C3
#x24C4
#x24C5
#x24C6
#x24C7
#x24C8
#x24C9
#x24CA
#x24CB
#x24CC
#x24CD
#x24CE
#x24CF
#x24D0
#x24D1
#x24D2
#x24D3
#x24D4
#x24D5
#x24D6
#x24D7
#x24D8
#x24D9
#x24DA
#x24DB
#x24DC
#x24DD
#x24DE
#x24DF
#x24E0
#x24E1
#x24E2
#x24E3
#x24E4
#x24E5
#x24E6
#x24E7
#x24E8
#x24E9
#x24EB
#x24EC
#x24ED
#x24EE
#x24EF
#x24F0
#x24F1
#x24F2
#x24F3
#x24F4
#x24F5
#x24F6
#x24F7
#x24F8
#x24F9
#x24FA
#x24FB
#x24FC
#x24FD
#x24FE
#x24FF
#x2500
#x2501
#x2502
#x2503
#x2504
#x2505
#x2506
#x2507
#x2508
#x2509
#x250A
#x250B
#x250C
#x250D
#x250E
#x250F
#x2510
#x2511
#x2512
#x2513
#x2514
#x2515
#x2516
#x2517
#x2518
#x2519
#x251A
#x251B
#x251C
#x251D
#x251E
#x251F
#x2520
#x2521
#x2522
#x2523
#x2524
#x2525
#x2526
#x2527
#x2528
#x2529
#x252A
#x252B
#x252C
#x252D
#x252E
#x252F
#x2530
#x2531
#x2532
#x2533
#x2534
#x2535
#x2536
#x2537
#x2538
#x2539
#x253A
#x253B
#x253C
#x253D
#x253E
#x253F
#x2540
#x2541
#x2542
#x2543
#x2544
#x2545
#x2546
#x2547
#x2548
#x2549
#x254A
#x254B
#x2550
#x2551
#x2552
#x2553
#x2554
#x2555
#x2556
#x2557
#x2558
#x2559
#x255A
#x255B
#x255C
#x255D
#x255E
#x255F
#x2560
#x2561
#x2562
#x2563
#x2564
#x2565
#x2566
#x2567
#x2568
#x2569
#x256A
#x256B
#x256C
#x256D
#x256E
#x256F
#x2570
#x2571
#x2572
#x2573
#x2580
#x2581
#x2582
#x2583
#x2584
#x2585
#x2586
#x2587
#x2588
#x2589
#x258A
#x258B
#x258C
#x258D
#x258E
#x258F
#x2592
#x2593
#x2594
#x2595
#x25A0
#x25A1
#x25A3
#x25A4
#x25A5
#x25A6
#x25A7
#x25A8
#x25A9
#x25B2
#x25B3
#x25B6
#x25B7
#x25BC
#x25BD
#x25C0
#x25C1
#x25C6
#x25C7
#x25C8
#x25CB
#x25CE
#x25CF
#x25D0
#x25D1
#x25E2
#x25E3
#x25E4
#x25E5
#x25EF
#x2605
#x2606
#x2609
#x260E
#x260F
#x2614
#x2615
#x261C
#x261E
#x2640
#x2642
#x2660
#x2661
#x2663
#x2664
#x2665
#x2667
#x2668
#x2669
#x266A
#x266C
#x266D
#x266F
#x269E
#x269F
#x26BE
#x26BF
#x26C4
#x26C5
#x26C6
#x26C7
#x26C8
#x26C9
#x26CA
#x26CB
#x26CC
#x26CD
#x26CF
#x26D0
#x26D1
#x26D2
#x26D3
#x26D4
#x26D5
#x26D6
#x26D7
#x26D8
#x26D9
#x26DA
#x26DB
#x26DC
#x26DD
#x26DE
#x26DF
#x26E0
#x26E1
#x26E3
#x26E8
#x26E9
#x26EA
#x26EB
#x26EC
#x26ED
#x26EE
#x26EF
#x26F0
#x26F1
#x26F2
#x26F3
#x26F4
#x26F5
#x26F6
#x26F7
#x26F8
#x26F9
#x26FA
#x26FB
#x26FC
#x26FD
#x26FE
#x26FF
#x273D
#x2757
#x2776
#x2777
#x2778
#x2779
#x277A
#x277B
#x277C
#x277D
#x277E
#x277F
#x2B55
#x2B56
#x2B57
#x2B58
#x2B59
#x3248
#x3249
#x324A
#x324B
#x324C
#x324D
#x324E
#x324F
#xFE00
#xFE01
#xFE02
#xFE03
#xFE04
#xFE05
#xFE06
#xFE07
#xFE08
#xFE09
#xFE0A
#xFE0B
#xFE0C
#xFE0D
#xFE0E
#xFE0F
#xFFFD
#x0001F100
#x0001F101
#x0001F102
#x0001F103
#x0001F104
#x0001F105
#x0001F106
#x0001F107
#x0001F108
#x0001F109
#x0001F10A
#x0001F110
#x0001F111
#x0001F112
#x0001F113
#x0001F114
#x0001F115
#x0001F116
#x0001F117
#x0001F118
#x0001F119
#x0001F11A
#x0001F11B
#x0001F11C
#x0001F11D
#x0001F11E
#x0001F11F
#x0001F120
#x0001F121
#x0001F122
#x0001F123
#x0001F124
#x0001F125
#x0001F126
#x0001F127
#x0001F128
#x0001F129
#x0001F12A
#x0001F12B
#x0001F12C
#x0001F12D
#x0001F130
#x0001F131
#x0001F132
#x0001F133
#x0001F134
#x0001F135
#x0001F136
#x0001F137
#x0001F138
#x0001F139
#x0001F13A
#x0001F13B
#x0001F13C
#x0001F13D
#x0001F13E
#x0001F13F
#x0001F140
#x0001F141
#x0001F142
#x0001F143
#x0001F144
#x0001F145
#x0001F146
#x0001F147
#x0001F148
#x0001F149
#x0001F14A
#x0001F14B
#x0001F14C
#x0001F14D
#x0001F14E
#x0001F14F
#x0001F150
#x0001F151
#x0001F152
#x0001F153
#x0001F154
#x0001F155
#x0001F156
#x0001F157
#x0001F158
#x0001F159
#x0001F15A
#x0001F15B
#x0001F15C
#x0001F15D
#x0001F15E
#x0001F15F
#x0001F160
#x0001F161
#x0001F162
#x0001F163
#x0001F164
#x0001F165
#x0001F166
#x0001F167
#x0001F168
#x0001F169
#x0001F170
#x0001F171
#x0001F172
#x0001F173
#x0001F174
#x0001F175
#x0001F176
#x0001F177
#x0001F178
#x0001F179
#x0001F17A
#x0001F17B
#x0001F17C
#x0001F17D
#x0001F17E
#x0001F17F
#x0001F180
#x0001F181
#x0001F182
#x0001F183
#x0001F184
#x0001F185
#x0001F186
#x0001F187
#x0001F188
#x0001F189
#x0001F18A
#x0001F18B
#x0001F18C
#x0001F18D
#x0001F18E
#x0001F18F
#x0001F190
#x0001F191
#x0001F192
#x0001F193
#x0001F194
#x0001F195
#x0001F196
#x0001F197
#x0001F198
#x0001F199
#x0001F19A
#x000E0100
#x000E0101
#x000E0102
#x000E0103
#x000E0104
#x000E0105
#x000E0106
#x000E0107
#x000E0108
#x000E0109
#x000E010A
#x000E010B
#x000E010C
#x000E010D
#x000E010E
#x000E010F
#x000E0110
#x000E0111
#x000E0112
#x000E0113
#x000E0114
#x000E0115
#x000E0116
#x000E0117
#x000E0118
#x000E0119
#x000E011A
#x000E011B
#x000E011C
#x000E011D
#x000E011E
#x000E011F
#x000E0120
#x000E0121
#x000E0122
#x000E0123
#x000E0124
#x000E0125
#x000E0126
#x000E0127
#x000E0128
#x000E0129
#x000E012A
#x000E012B
#x000E012C
#x000E012D
#x000E012E
#x000E012F
#x000E0130
#x000E0131
#x000E0132
#x000E0133
#x000E0134
#x000E0135
#x000E0136
#x000E0137
#x000E0138
#x000E0139
#x000E013A
#x000E013B
#x000E013C
#x000E013D
#x000E013E
#x000E013F
#x000E0140
#x000E0141
#x000E0142
#x000E0143
#x000E0144
#x000E0145
#x000E0146
#x000E0147
#x000E0148
#x000E0149
#x000E014A
#x000E014B
#x000E014C
#x000E014D
#x000E014E
#x000E014F
#x000E0150
#x000E0151
#x000E0152
#x000E0153
#x000E0154
#x000E0155
#x000E0156
#x000E0157
#x000E0158
#x000E0159
#x000E015A
#x000E015B
#x000E015C
#x000E015D
#x000E015E
#x000E015F
#x000E0160
#x000E0161
#x000E0162
#x000E0163
#x000E0164
#x000E0165
#x000E0166
#x000E0167
#x000E0168
#x000E0169
#x000E016A
#x000E016B
#x000E016C
#x000E016D
#x000E016E
#x000E016F
#x000E0170
#x000E0171
#x000E0172
#x000E0173
#x000E0174
#x000E0175
#x000E0176
#x000E0177
#x000E0178
#x000E0179
#x000E017A
#x000E017B
#x000E017C
#x000E017D
#x000E017E
#x000E017F
#x000E0180
#x000E0181
#x000E0182
#x000E0183
#x000E0184
#x000E0185
#x000E0186
#x000E0187
#x000E0188
#x000E0189
#x000E018A
#x000E018B
#x000E018C
#x000E018D
#x000E018E
#x000E018F
#x000E0190
#x000E0191
#x000E0192
#x000E0193
#x000E0194
#x000E0195
#x000E0196
#x000E0197
#x000E0198
#x000E0199
#x000E019A
#x000E019B
#x000E019C
#x000E019D
#x000E019E
#x000E019F
#x000E01A0
#x000E01A1
#x000E01A2
#x000E01A3
#x000E01A4
#x000E01A5
#x000E01A6
#x000E01A7
#x000E01A8
#x000E01A9
#x000E01AA
#x000E01AB
#x000E01AC
#x000E01AD
#x000E01AE
#x000E01AF
#x000E01B0
#x000E01B1
#x000E01B2
#x000E01B3
#x000E01B4
#x000E01B5
#x000E01B6
#x000E01B7
#x000E01B8
#x000E01B9
#x000E01BA
#x000E01BB
#x000E01BC
#x000E01BD
#x000E01BE
#x000E01BF
#x000E01C0
#x000E01C1
#x000E01C2
#x000E01C3
#x000E01C4
#x000E01C5
#x000E01C6
#x000E01C7
#x000E01C8
#x000E01C9
#x000E01CA
#x000E01CB
#x000E01CC
#x000E01CD
#x000E01CE
#x000E01CF
#x000E01D0
#x000E01D1
#x000E01D2
#x000E01D3
#x000E01D4
#x000E01D5
#x000E01D6
#x000E01D7
#x000E01D8
#x000E01D9
#x000E01DA
#x000E01DB
#x000E01DC
#x000E01DD
#x000E01DE
#x000E01DF
#x000E01E0
#x000E01E1
#x000E01E2
#x000E01E3
#x000E01E4
#x000E01E5
#x000E01E6
#x000E01E7
#x000E01E8
#x000E01E9
#x000E01EA
#x000E01EB
#x000E01EC
#x000E01ED
#x000E01EE
#x000E01EF))
(defun set-east-asian-ambiguous-width (width)
(dolist (range
         full-width-table)
  (set-char-table-range char-width-table range width))
  (set-char-table-range char-width-table #x00AC 1))
(set-east-asian-ambiguous-width 2)
    